Pb general :
   X creation de taches avec .. l√©gal

Pas de chgt
    Rep de liste : 
    Archives

A changer
    o remplacer tous les acc√®s direct √† Conf wwsconf par
    get_robot_conf()
      X soap/SympaTransport.pm
      o soap/sympa_soap_server.fcgi
      o soap/sympasoap.pm
      o src/etc/script/arc2webarc.pl
      o src/etc/script/crypt_passwd.pl
      o src/etc/script/init_comment.pl
      o src/etc/script/load_subscribers.pl
      o src/etc/script/mod2html.pl
      o src/etc/script/p12topem.pl
      o src/etc/script/testlogs.pl
      o src/etc/script/tpl2tt2.pl
      o src/Commands.pm
      o src/Conf.pm
      o src/Family.pm
      o src/Fetch.pm
      o src/Ldap.pm
      o src/List.pm
      o src/Log.pm
      o src/Message.pm
      o src/admin.pm
      o src/alias_manager.pl
      o src/mail.pm
      o src/sympa.pl
      o src/sympa_wizard.pl
      o src/task_manager.pl
      o src/tools.pl
      o wwsympa/Auth.pm
      o wwsympa/archived.pl
      o wwsympa/bounced.pl
      o wwsympa/wwslib.pm
      o wwsympa/wwsympa.fcgi
    X BD (tables subscriber et admin)
       X dans List.pm
       X dans les scripts de creation
    X spool (compatibilit√©)
	X auth (on n'exploite pas les infos de la liste dans le nom du fic)  
	X bounce  
	  X queuebounce
	  X bounce_path
	X digest  
	X moderation (grep queuemod)
	  X wwsympa.fcgi
	  X List.pm
	  X Commands.pm
	X msg (uncompatible change si param de queue incorrect)  
	X outgoing
	X subscribe  
	X task  
	X tmp
    o spools / script de migration :
        X renommer les sous-rep de bounce_path
	o autres spools ?
    X new List::check_list_authz() that does request_action() calls
    X new wwsympa::check_authz() sub

Modules :
    X List.pm
       X %list_of_lists
       X acc√®s √† la base (subscriber_table et admin_table)
       X modifier appels √† List::rename_list_db()
       X modif appels √† List::get_which_db()
       X %map_field (rien √† faire car on ne change jamais le robot d'un abonn√©)
       X %list_cache
       X get_which_db() (not robot specific)
       X get_lists() (some calls with '*' param) 
       X get_which() (all calls changed)
       X _load_total_db()
    X Family.pm (a priori OK car l'objet famille utilise le robot)
    X task_manager
      X taches relatives √† un robot ? (pas tant que les param d'un robot sont limit√©s)
      X cr√©er un objet Task (evite de transporter le contexte)
    X wwsympa.fcgi
      X verification si liste existe deja
    X partout ou on trimbale $listname
      X soap/sympasoap.pm
      X src/tools.pl
      X src/sympa.pl
      X src/Commands.pm
      X src/Family.pm
      X src/task_manager.pl
      X src/alias_manager.pl
      X src/Message.pm
      X src/report.pm
      X src/List.pm
      X src/Archive.pm
      X src/etc/script/p12topem.pl
      X src/etc/script/mod2html.pl
      X src/etc/script/load_subscribers.pl
      X src/mail.pm
      X wwsympa/archived.pl
      X wwsympa/wwsympa.fcgi
      X wwsympa/bounced.pl
    X utiliser get_list_id() et get_list_address()
      X src/etc/script/arc2webarc.pl
      X src/etc/script/mod2html.pl
      X src/Commands.pm
      X src/Conf.pm
      X src/Ldap.pm
      X src/List.pm
      X src/Log.pm
      X src/Message.pm
      X src/admin.pm
      X src/alias_manager.pl
      X src/Task.pm	
      X src/sympa.pl
      X src/task_manager.pl
      X src/tools.pl	
      X wwsympa/Auth.pm
      X wwsympa/archived.pl
      X wwsympa/bounced.pl
      X wwsympa/wwsympa.fcgi
    X verif utilisation bounce_path :
      X src/task_manager.pl
      X wwsympa/bounced.pl
      X wwsympa/wwsympa.fcgi
    X pb utilisation de host (au lieu de robot) dans spool outgoing
    X ts les new List doivent avoir un param robot
      X ./wwsympa/wwsympa.fcgi
      X ./wwsympa/bounced.pl
      X ./wwsympa/archived.pl
      X ./soap/sympa_soap_server.fcgi
      X ./soap/sympasoap.pm
      X ./src/etc/script/p12topem.pl
      X ./src/etc/script/arc2webarc.pl
      X ./src/etc/script/tpl2tt2.pl
      X ./src/etc/script/mod2html.pl
      X ./src/admin.pm
      X ./src/Commands.pm
      X ./src/sympa.pl
      X ./src/List.pm
      X ./src/task_manager.pl
      X ./src/Message.pm
      X ./src/Family.pm
      X ./src/tools.pl
      X bounced.pl

    X changer appels √† _load_total_db()
    X appels √† List::verify()
    X cloisonnement des listes
      X include_list
      X scenarios
    X chgt appels _include_users_xx
    X task_manager::match_task()

o Migration existant :
    o spool
    X DB
    
X Indiquer le robot dans les log : trop lourd (variable globale ou params)
  

o Documentation
o Auth.conf par robot
o mettre auth_services dans Robot.pm
  
o Ajout champ robot dans table user (pour avoir des mdp diffÈrents par vrobot) :
  o ajout champ dans DB
    o scripts creation
    o List::probe_db
  o modif quelques sub dans List.pm
    o delete_user_db
    o get_user_db
    o get_all_user_db
    o is_user_db
    o update_user ?
    o update_admin_user ?
    o update_user_db
    o add_user_db
    o add_user
    o add_admin_user


Pb √† v√©rifier :
  X reference √† une liste d'un autre robot dans :
    X scenario
    X include_list
Extras :
  o renommer
    o update_user en update_subscriber
    o update_user_db en update_user
    o is_user en is_subscriber
    o is_user_db en is_subscriber
  o supprimer wwsympa.conf
  o v√©rifier format params sympa.conf
  o meilleure gestion robot.conf
  o m√©nage dans les logs xxx

A virer :
  o commande expire
  o fonctions export LDAP

