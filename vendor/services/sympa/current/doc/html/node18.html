<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>17. Mailing list definition</TITLE>
<META NAME="description" CONTENT="17. Mailing list definition">
<META NAME="keywords" CONTENT="sympa">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sympa.css">

<LINK REL="next" HREF="node19.html">
<LINK REL="previous" HREF="node17.html">
<LINK REL="up" HREF="sympa.html">
<LINK REL="next" HREF="node19.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#ffffff">
<!--Navigation Panel-->
<A NAME="tex2html1249"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1243"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1237"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1245"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1247"
  HREF="node30.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1250"
  HREF="node19.html">18. List creation, edition and removal</A>
<B> Up:</B> <A NAME="tex2html1244"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html1238"
  HREF="node17.html">16. Customizing Sympa/WWSympa</A>
 &nbsp; <B>  <A NAME="tex2html1246"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1248"
  HREF="node30.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html1251"
  HREF="node18.html#SECTION001810000000000000000">17.1 Mail aliases</A>
<LI><A NAME="tex2html1252"
  HREF="node18.html#SECTION001820000000000000000">17.2 List configuration file</A>
<LI><A NAME="tex2html1253"
  HREF="node18.html#SECTION001830000000000000000">17.3 Examples of configuration files</A>
<LI><A NAME="tex2html1254"
  HREF="node18.html#SECTION001840000000000000000">17.4 Subscribers file</A>
<LI><A NAME="tex2html1255"
  HREF="node18.html#SECTION001850000000000000000">17.5 Info file</A>
<LI><A NAME="tex2html1256"
  HREF="node18.html#SECTION001860000000000000000">17.6 Homepage file</A>
<LI><A NAME="tex2html1257"
  HREF="node18.html#SECTION001870000000000000000">17.7 Data inclusion file</A>
<LI><A NAME="tex2html1258"
  HREF="node18.html#SECTION001880000000000000000">17.8 List template files</A>
<UL>
<LI><A NAME="tex2html1259"
  HREF="node18.html#SECTION001881000000000000000">17.8.1 welcome.tt2</A>
<LI><A NAME="tex2html1260"
  HREF="node18.html#SECTION001882000000000000000">17.8.2 bye.tt2</A>
<LI><A NAME="tex2html1261"
  HREF="node18.html#SECTION001883000000000000000">17.8.3 removed.tt2</A>
<LI><A NAME="tex2html1262"
  HREF="node18.html#SECTION001884000000000000000">17.8.4 reject.tt2</A>
<LI><A NAME="tex2html1263"
  HREF="node18.html#SECTION001885000000000000000">17.8.5 invite.tt2</A>
<LI><A NAME="tex2html1264"
  HREF="node18.html#SECTION001886000000000000000">17.8.6 remind.tt2</A>
<LI><A NAME="tex2html1265"
  HREF="node18.html#SECTION001887000000000000000">17.8.7 summary.tt2</A>
<LI><A NAME="tex2html1266"
  HREF="node18.html#SECTION001888000000000000000">17.8.8 list_aliases.tt2</A>
</UL>
<BR>
<LI><A NAME="tex2html1267"
  HREF="node18.html#SECTION001890000000000000000">17.9 Stats file</A>
<LI><A NAME="tex2html1268"
  HREF="node18.html#SECTION0018100000000000000000">17.10 List model files</A>
<UL>
<LI><A NAME="tex2html1269"
  HREF="node18.html#SECTION0018101000000000000000">17.10.1 remind.annual.task</A>
<LI><A NAME="tex2html1270"
  HREF="node18.html#SECTION0018102000000000000000">17.10.2 expire.annual.task</A>
</UL>
<BR>
<LI><A NAME="tex2html1271"
  HREF="node18.html#SECTION0018110000000000000000">17.11 Message header and footer</A>
<UL>
<LI><A NAME="tex2html1272"
  HREF="node18.html#SECTION0018111000000000000000">17.11.1 Archive directory</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION001800000000000000000"></A>
    <A NAME="ml-definition"></A>
<BR>
17. Mailing list definition
</H1>

<P>
This chapter describes what a mailing list is made of within Sympa environment.

<P>

<H1><A NAME="SECTION001810000000000000000"></A>
    <A NAME="list-aliases"></A>    <A NAME="2382"></A>
    <A NAME="2383"></A>
<BR>
17.1 Mail aliases
</H1>

<P>
See list aliases section, <A HREF="#list-aliases">17.1</A>,
page&nbsp;<A HREF="node18.html#list-aliases"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>)

<P>

<H1><A NAME="SECTION001820000000000000000"></A>
    <A NAME="exp-config"></A>
<BR>
17.2 List configuration file
</H1>

<P>
The configuration file for the <TT>mylist</TT> list is named
<A NAME="9918"></A><TT>/usr/local/sympa-stable/expl/my.domain.org/mylist/config</TT> 
(or <A NAME="9921"></A><TT>/usr/local/sympa-stable/expl/mylist/config</TT> if no virtual host is defined). 
<I>Sympa</I> reloads it into memory whenever this file has changed on disk. The file can either be
edited via the web interface or directly via your favourite text editor. 

<P>
If you have set the <A NAME="9925"></A><TT>cache_list_config</TT> sympa.conf parameter (see <A HREF="node8.html#cache-list">7.9.1</A>,  
page&nbsp;<A HREF="node8.html#cache-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>), a binary version of the config (<A NAME="9928"></A><TT>/usr/local/sympa-stable/expl/my.domain.org/mylist/config.bin</TT> is maintained to allow 
a faster restart of daemons (this is especialy usefull for sites managing lots of lists). 

<P>
Be careful to provide read access for <I>Sympa</I> user to this file !

<P>
You will find a few configuration files in the <A NAME="9932"></A><TT>sample</TT> directory. 

<P>
List configuration parameters are described in the list creation section, <A HREF="node21.html#list-configuration-param">20</A>, page&nbsp;<A HREF="node21.html#list-configuration-param"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>

<H1><A NAME="SECTION001830000000000000000">
17.3 Examples of configuration files</A>
</H1>

<P>
This first example is for a list open to everyone:

<P><PRE>
subject First example (an open list)

visibility noconceal

owner
email Pierre.David@prism.uvsq.fr

send public

review public
</PRE>

<P>
The second example is for a moderated list with authenticated subscription:
<A NAME="2403"></A>
<A NAME="2404"></A>

<P><PRE>
subject Second example (a moderated list)

visibility noconceal

owner
email moi@ici.fr

editor
email big.prof@ailleurs.edu

send editor

subscribe auth

review owner

reply_to_header
value list

cookie 142cleliste
</PRE>

<P>
The third example is for a moderated list, with subscription
controlled by the owner, and running in digest mode. Subscribers
who are in <A NAME="9935"></A>digest mode receive messages on Mondays and
Thursdays.

<P><PRE>
owner
email moi@ici.fr

editor
email prof@ailleurs.edu

send editor

subscribe owner

review owner

reply_to_header
value list

digest 1,4 12:00
</PRE>

<P>

<H1><A NAME="SECTION001840000000000000000"></A>
    <A NAME="file-subscribers"></A>    <A NAME="2416"></A>
<BR>
17.4 Subscribers file
</H1>

<P>
<B>Be carefull</B>: Since version 3.3.6 of <I>Sympa</I>, a RDBMS is required for internal data storage. Flat file should
not be use anymore except for testing purpose. <I>Sympa</I> will not use this file if the list is configured
with <TT>include</TT> or <TT>database</TT> <A NAME="9938"></A><TT>user_data_source</TT>.

<P>
The <A NAME="9941"></A><TT>/usr/local/sympa-stable/expl/mylist/subscribers</TT> file is automatically created and
populated. It contains information about list
subscribers.  It is not advisable to edit this file.  Main parameters
are:

<P>

<UL>
<LI><A NAME="9944"></A><TT>email</TT> <I>address</I>

<P>
E-mail address of subscriber.

<P>
</LI>
<LI><A NAME="9947"></A><TT>gecos</TT> <I>data</I> 

<P>
Information about subscriber (last name, first name,
        etc.) This parameter is optional at subscription time.

<P>
</LI>
<LI><A NAME="9950"></A><TT>reception</TT>
            <TT>nomail</TT> <TT>|</TT>
            <TT>digest</TT> <TT>|</TT>
            <TT>summary</TT> <TT>|</TT>
            <TT>notice</TT> <TT>|</TT>
 	    <TT>txt</TT> <TT>|</TT>
	    <TT>html</TT> <TT>|</TT>
 	    <TT>urlize</TT> <TT>|</TT>
	    <TT>not_me</TT> <TT>|</TT>
        <A NAME="par-reception"></A> 

<P>
Special receive modes which the subscriber may select.
        Special modes can be either <I>nomail</I>,  <I>digest</I>, <I>summary</I>, <I>notice</I>, <I>txt</I>,
        <I>html</I>, <I>urlize</I>, <I>not_me</I> .
        In normal receive mode, the receive attribute
        for a subscriber is not displayed. In this mode subscription to message topics is available.
        See the <A NAME="9953"></A><TT>SET&nbsp;LISTNAME&nbsp;SUMMARY</TT> (<A HREF="node28.html#cmd-setsummary">27.1</A>, 
        page&nbsp;<A HREF="node28.html#cmd-setsummary"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>),
        the <A NAME="9956"></A><TT>SET&nbsp;LISTNAME&nbsp;NOMAIL</TT> command (<A HREF="node28.html#cmd-setnomail">27.1</A>,
        page&nbsp;<A HREF="node28.html#cmd-setnomail"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>), and the <A NAME="9959"></A><TT>digest</TT>
        parameter (<A HREF="node21.html#par-digest">20.4.9</A>, page&nbsp;<A HREF="node21.html#par-digest"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>).

<P>
</LI>
<LI><A NAME="9962"></A><TT>visibility</TT> <TT>conceal</TT>  
        <A NAME="par-visibility-conceal"></A>
<P>
Special mode which allows the subscriber to remain invisible when
        a <A NAME="9965"></A><TT>REVIEW</TT> command is issued for the list.  If this
        parameter is not declared, the subscriber will be visible
        for <A NAME="9968"></A><TT>REVIEW</TT>.  Note: this option does not affect
        the results of a <A NAME="9971"></A><TT>REVIEW</TT> command issued by an
        owner.  See the <A NAME="9974"></A><TT>SET&nbsp;LISTNAME&nbsp;MAIL</TT> command (<A HREF="node28.html#cmd-setconceal">27.1</A>, page&nbsp;<A HREF="node28.html#cmd-setconceal"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>) for
        details.

<P>
</LI>
</UL>

<P>

<H1><A NAME="SECTION001850000000000000000">
17.5 Info file</A>
</H1>

<P>
<A NAME="9977"></A><TT>/usr/local/sympa-stable/expl/mylist/info</TT> should contain a detailed text
description of the list, to be displayed by the <A NAME="9980"></A><TT>INFO</TT> command. 
It can also be referenced from template files for service messages.

<P>

<H1><A NAME="SECTION001860000000000000000">
17.6 Homepage file</A>
</H1>

<P>
<A NAME="9983"></A><TT>/usr/local/sympa-stable/expl/mylist/homepage</TT> is the HTML text 
on the <A NAME="9986"></A><I>WWSympa</I> info page for the list.

<P>

<H1><A NAME="SECTION001870000000000000000"></A>
<A NAME="data-inclusion-file"></A><A NAME="2479"></A>
<BR>
17.7 Data inclusion file
</H1>

<P>
Sympa will use these files only if the list is configured in <TT>include2</TT> <A NAME="9989"></A><TT>user_data_source</TT> mode.
Every file has the .incl extension. 
More over, these files must be declared in paragraphs <A NAME="9992"></A><TT>owner_include</TT> or <A NAME="9995"></A><TT>editor_inlude</TT> in the list configuration file 
without the .incl extension (see <A HREF="node21.html#list-configuration-param">20</A>, page&nbsp;<A HREF="node21.html#list-configuration-param"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>).
This files can be template file.

<P>
Sympa looks for them in the following order :

<OL>
<LI><A NAME="10010"></A><TT>/usr/local/sympa-stable/expl/mylist/data_sources/<TT>&lt;</TT>file<TT>&gt;</TT>.incl</TT>. 
</LI>
<LI><A NAME="10031"></A><TT>/usr/local/sympa-stable/etc/data_sources/<TT>&lt;</TT>file<TT>&gt;</TT>.incl</TT>. 
</LI>
<LI><A NAME="10052"></A><TT>/usr/local/sympa-stable/etc/my.domain.org/data_sources/<TT>&lt;</TT>file<TT>&gt;</TT>.incl</TT>.
</LI>
</OL> 

<P>
These files are used by Sympa to load administrative data in a relational database :
Owners or editors are defined <I>intensively</I> (definition of criteria owners or editors must satisfy).  
Includes can be performed by extracting e-mail addresses using an <A NAME="10061"></A>SQL or <A NAME="10062"></A>LDAP query, or 
by including other mailing lists.

<P>
A data inclusion file is composed of paragraphs separated by blank lines and introduced by a keyword.
Valid paragraphs are <A NAME="10063"></A><TT>include_file</TT>, <A NAME="10066"></A><TT>include_list</TT>, <A NAME="10069"></A><TT>include_remote_sympa_list</TT>, 
<A NAME="10072"></A><TT>include_sql_query</TT> and <A NAME="10075"></A><TT>include_ldap_query</TT>. They are described in the list configuration parameters chapitre, <A HREF="node21.html#list-configuration-param">20</A>, page&nbsp;<A HREF="node21.html#list-configuration-param"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
When this file is a template, used variables are array elements (<A NAME="10078"></A><TT>param</TT> array). This array is instantiated by values contained in the subparameter 
<A NAME="10081"></A><TT>source_parameter</TT> of <A NAME="10084"></A><TT>owner_include</TT> or <A NAME="10087"></A><TT>editor_inlude</TT>.

<P>
<I>Example :</I> 

<P>

<UL>
<LI>in the list configuration file :

<P><PRE>
	owner_include
	source myfile
	source_parameters mysql,rennes1,stduser,mysecret,studentbody,student
</PRE>

<P>
</LI>
<LI>in myfile.incl :

<P><PRE>
	include_sql_query
	db_type [% param.0 %]
	host sqlserv.admin.univ-[% param.1 %].fr
	user [% param.2 %]
	passwd [% param.3 %]
        db_name [% param.4 %]
	sql_query SELECT DISTINCT email FROM [% param.5 %]
      </PRE>

<P>
</LI>
<LI>resulting data inclusion file :

<P><PRE>
	include_sql_query
	db_type mysql
	host sqlserv.admin.univ-rennes1.fr
        user stduser
        passwd mysecret
        db_name studentbody
        sql_query SELECT DISTINCT email FROM student
</PRE>

<P>
</LI>
</UL>          

<P>

<H1><A NAME="SECTION001880000000000000000"></A>
<A NAME="list-tpl"></A><A NAME="2525"></A>
<BR>
17.8 List template files
</H1>

<P>
These files are used by Sympa as service messages for commands such as
<A NAME="10090"></A><TT>SUB</TT>, <A NAME="10093"></A><TT>ADD</TT>, <A NAME="10096"></A><TT>SIG</TT>, <A NAME="10099"></A><TT>DEL</TT>, <A NAME="10102"></A><TT>REJECT</TT>. 
These files are interpreted (parsed) by <I>Sympa</I> and respect the template 
format ; every file has the .tt2 extension. See <A HREF="node17.html#tpl-format">16.1</A>, 
page&nbsp;<A HREF="node17.html#tpl-format"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>. 

<P>
Sympa looks for these files in the following order :

<OL>
<LI><A NAME="10118"></A><TT>/usr/local/sympa-stable/expl/mylist/mail_tt2/<TT>&lt;</TT>file<TT>&gt;</TT>.tt2</TT> 
</LI>
<LI><A NAME="10139"></A><TT>/usr/local/sympa-stable/etc/mail_tt2/<TT>&lt;</TT>file<TT>&gt;</TT>.tt2</TT>. 
</LI>
<LI><A NAME="10160"></A><TT>/usr/local/sympa-stable/bin/etc/mail_tt2/<TT>&lt;</TT>file<TT>&gt;</TT>.tt2</TT>.
</LI>
</OL>

<P>
If the file starts with a From: line, it is taken to be
a full message and will be sent (after parsing) without the addition of SMTP
headers. Otherwise the file is treated as a text/plain message body.

<P>
The following variables may be used in list template files :

<P>
<DL COMPACT>
<DT>-</DT>
<DD>[% conf.email %] : sympa e-mail address local part

<P>
</DD>
<DT>-</DT>
<DD>[% conf.domain %] : sympa robot domain name

<P>
</DD>
<DT>-</DT>
<DD>[% conf.sympa %] : sympa's complete e-mail address

<P>
</DD>
<DT>-</DT>
<DD>[% conf.wwsympa_url %] : <A NAME="10169"></A><I>WWSympa</I> root URL

<P>
</DD>
<DT>-</DT>
<DD>[% conf.listmaster %] : listmaster e-mail addresses

<P>
</DD>
<DT>-</DT>
<DD>[% list.name %] : list name

<P>
</DD>
<DT>-</DT>
<DD>[% list.host %] : list hostname (default is sympa robot domain name)

<P>
</DD>
<DT>-</DT>
<DD>[% list.lang %] : list language

<P>
</DD>
<DT>-</DT>
<DD>[% list.subject %] : list subject

<P>
</DD>
<DT>-</DT>
<DD>[% list.owner %] : list owners table hash

<P>
</DD>
<DT>-</DT>
<DD>[% user.email %] : user e-mail address

<P>
</DD>
<DT>-</DT>
<DD>[% user.gecos %] : user gecos field (usually his/her name)

<P>
</DD>
<DT>-</DT>
<DD>[% user.password %] : user password

<P>
</DD>
<DT>-</DT>
<DD>[% user.lang %] : user language

<P>
</DD>
<DT>-</DT>
<DD>[% execution_date %] : the date when the scenario is executed	
</DD>
</DL>

<P>
You may also dynamically include a file from a template using the
[% INSERT %] directive.

<P>
<I>Example:</I> 

<P><PRE>
Dear [% user.email %],

Welcome to list [% list.name %]@[% list.host %].

Presentation of the list :
[% INSERT 'info' %]

The owners of [% list.name %] are :
[% FOREACH ow = list.owner %]
   [% ow.value.gecos %] &lt;[% ow.value.email %]&gt;
[% END %]
</PRE>

<P>

<H2><A NAME="SECTION001881000000000000000">
17.8.1 welcome.tt2</A>
</H2> 

<P>
<I>Sympa</I> will send a welcome message for every subscription. The welcome 
message can be customized for each list.

<P>

<H2><A NAME="SECTION001882000000000000000">
17.8.2 bye.tt2</A>
</H2> 

<P>
Sympa will send a farewell message for each SIGNOFF 
mail command received.

<P>

<H2><A NAME="SECTION001883000000000000000">
17.8.3 removed.tt2</A>
</H2> 

<P>
This message is sent to users who have been deleted (using the <A NAME="10173"></A><TT>DELETE</TT> 
command) from the list by the list owner.

<P>

<H2><A NAME="SECTION001884000000000000000">
17.8.4 reject.tt2</A>
</H2> 

<P>
<I>Sympa</I> will send a reject message to the senders of messages rejected
by the list editor. If the editor prefixes her <A NAME="10177"></A><TT>REJECT</TT> with the
keyword QUIET, the reject message will not be sent.

<P>

<H2><A NAME="SECTION001885000000000000000">
17.8.5 invite.tt2</A>
</H2> 

<P>
This message is sent to users who have been invited (using the <A NAME="10180"></A><TT>INVITE</TT> 
command) to subscribe to a list. 

<P>
You may use additional variables
<DL COMPACT>
<DT>-</DT>
<DD>[% requested_by %] : e-mail of the person who sent the 
		<A NAME="10183"></A><TT>INVITE</TT> command

<P>
</DD>
<DT>-</DT>
<DD>[% url %] : the mailto: URL to subscribe to the list

<P>
</DD>
</DL>

<P>

<H2><A NAME="SECTION001886000000000000000">
17.8.6 remind.tt2</A>
</H2>

<P>
This file contains a message sent to each subscriber
when one of the list owners sends the <A NAME="10186"></A><TT>REMIND</TT> command
 (see&nbsp;<A HREF="node28.html#cmd-remind">27.2</A>, page&nbsp;<A HREF="node28.html#cmd-remind"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>).

<P>

<H2><A NAME="SECTION001887000000000000000">
17.8.7 summary.tt2</A>
</H2>

<P>
Template for summaries (reception mode close to digest), 
see&nbsp;<A HREF="node28.html#cmd-setsummary">27.1</A>, page&nbsp;<A HREF="node28.html#cmd-setsummary"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>

<H2><A NAME="SECTION001888000000000000000"></A>
<A NAME="list-aliases-tpl"></A>
<BR>
17.8.8 list_aliases.tt2
</H2>

<P>
Template that defines list mail alises. It is used by the alias_manager script.

<P>

<H1><A NAME="SECTION001890000000000000000"></A>
    <A NAME="stats-file"></A>    <A NAME="2570"></A>
<BR>
17.9 Stats file
</H1>

<P>
<A NAME="10189"></A><TT>/usr/local/sympa-stable/expl/mylist/stats</TT> is a text file containing 
statistics about the list. Data are numerics separated
by white space within a single line :

<P>

<UL>
<LI>Number of messages sent, used to generate X-sequence headers

<P>
</LI>
<LI>Number of messages X number of recipients 

<P>
</LI>
<LI>Number of bytes X number of messages

<P>
</LI>
<LI>Number of bytes X number of messages X number of recipients

<P>
</LI>
<LI>Number of subscribers

<P>
</LI>
<LI>Last update date (epoch format) of the subscribers cache in DB, used by lists in <B>include2</B> mode only

<P>
</LI>
</UL>

<P>

<H1><A NAME="SECTION0018100000000000000000"></A>
<A NAME="Listmodelfiles"></A>
<BR>
17.10 List model files
</H1>

<P>
These files are used by <I>Sympa</I> to create task files. They are interpreted (parsed) 
by the task manager and respect the task format. See <A HREF="node17.html#tasks">16.8</A>, page&nbsp;<A HREF="node17.html#tasks"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>

<H2><A NAME="SECTION0018101000000000000000">
17.10.1 remind.annual.task</A>
</H2>

<P>
Every year <I>Sympa</I> will send a message (the template <A NAME="10194"></A><TT>remind.tt2</TT>) 
to all subscribers of the list to remind them of their subscription.

<P>

<H2><A NAME="SECTION0018102000000000000000">
17.10.2 expire.annual.task</A>
</H2>

<P>
Every month <I>Sympa</I> will delete subscribers older than one year who haven't answered two warning messages.

<P>

<H1><A NAME="SECTION0018110000000000000000"></A> 
<A NAME="messagefooter"></A>
<BR>
17.11 Message header and footer
</H1>

<P>
You may create <A NAME="10198"></A><TT>/usr/local/sympa-stable/expl/mylist/message.header</TT> and
<A NAME="10201"></A><TT>/usr/local/sympa-stable/expl/mylist/message.footer</TT> files. Their content
is added, respectively at the beginning and at the end of each message 
before the distribution process. You may also include the content-type
of the appended part (when <A NAME="10204"></A><TT>footer_type</TT> list parameter s set 
to <B>mime</B>) by renaming the files to <A NAME="10207"></A><TT>message.header.mime</TT> 
and <A NAME="10210"></A><TT>message.footer.mime</TT>.

<P>
The <A NAME="10213"></A><TT>footer_type</TT> list parameter defines whether to attach the 
header/footer content as a MIME part (except for multipart/alternative 
messages), or to append them to the message body (for text/plain messages).

<P>
Under certain circumstances, Sympa will NOT add headers/footers, here is its
algorythm :<PRE>
if message is not multipart/signed 
        if footer_type==append
	        if message is text/plain
		       append header/footer to it
		else if message is multipart AND first part is text/plain
		       append header/footer to first part

        if footer_type==mime
	        if message is not multipart/alternative
		       add header/footer as a new MIME part
</PRE>

<P>

<H2><A NAME="SECTION0018111000000000000000">
17.11.1 Archive directory</A>
</H2> 

<P>
The <A NAME="10216"></A><TT>/usr/local/sympa-stable/expl/mylist/archives/</TT> directory contains the 
archived messages for lists which are archived; see <A HREF="node21.html#par-archive">20.6.1</A>, 
page&nbsp;<A HREF="node21.html#par-archive"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>. The files are named in accordance with the 
archiving frequency defined by the <A NAME="10219"></A><TT>archive</TT> parameter.

<P>

<HR>
<!--Navigation Panel-->
<A NAME="tex2html1249"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1243"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1237"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1245"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1247"
  HREF="node30.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1250"
  HREF="node19.html">18. List creation, edition and removal</A>
<B> Up:</B> <A NAME="tex2html1244"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html1238"
  HREF="node17.html">16. Customizing Sympa/WWSympa</A>
 &nbsp; <B>  <A NAME="tex2html1246"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1248"
  HREF="node30.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
root
2006-09-25
</ADDRESS>
</BODY>
</HTML>
